-- PostgreSQL database dump
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;

CREATE TABLE "attributes" (
  "attributeid" BIGSERIAL  ,
  "attributename" varchar(250) DEFAULT NULL,
  "description" text,
  "attributeicon" text,
  "attributecolor" varchar(50) DEFAULT NULL,
  "uoid" bigint DEFAULT NULL,
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "isspecification" bit(1) DEFAULT NULL,
  PRIMARY KEY ("attributeid"),
  CONSTRAINT "createdby_u_uid" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_uid" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_uid" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "orgid_uo_a" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "attributevalues" (
  "avid" BIGSERIAL  ,
  "attributeid" bigint DEFAULT NULL,
  "avname" varchar(250) DEFAULT NULL,
  "avdisplayorder" varchar(250) DEFAULT NULL,
  "uoid" bigint DEFAULT NULL,
  "avicon" text,
  "avcolor" varchar(50) DEFAULT NULL,
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("avid"),
  CONSTRAINT "attrid_a_av" FOREIGN KEY ("attributeid") REFERENCES "attributes" ("attributeid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "createdby_u_av" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_av" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_av" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "orgid_uo_av" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "bom" (
  "bomid" BIGSERIAL  ,
  "bomno" integer DEFAULT NULL,
  "bomname" varchar(100) DEFAULT NULL,
  "bomdate" timestamp DEFAULT NULL,
  "enddate" timestamp DEFAULT NULL,
  "exptime" integer DEFAULT NULL,
  "sctype" bigint DEFAULT NULL,
  "seriesid" bigint DEFAULT NULL,
  "remarks" text,
  "uoid" bigint DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "isapproved" bit(1) DEFAULT b'0',
  "approvedby" bigint DEFAULT NULL,
  PRIMARY KEY ("bomid"),
  CONSTRAINT "apb_u_bom" FOREIGN KEY ("approvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "cb_u_bom" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "db_u_bom" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "mb_u_bom" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "sctype_mv_bom" FOREIGN KEY ("sctype") REFERENCES "mastervalues" ("mvid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "sid_s_bom" FOREIGN KEY ("seriesid") REFERENCES "series" ("sid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uoid_uo_bom" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "bomattachment" (
  "baid" BIGSERIAL  ,
  "bomid" bigint DEFAULT NULL,
  "umid" bigint DEFAULT NULL,
  PRIMARY KEY ("baid"),
  CONSTRAINT "bomid_b_ba" FOREIGN KEY ("bomid") REFERENCES "bom" ("bomid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "umid_um_ba" FOREIGN KEY ("umid") REFERENCES "userimages" ("umid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "bomdetails" (
  "bomdid" BIGSERIAL  ,
  "bomid" bigint DEFAULT NULL,
  "proid" bigint DEFAULT NULL,
  "pvid" bigint DEFAULT NULL,
  "bomqty" decimal(19,4) DEFAULT NULL,
  "uomid" bigint DEFAULT NULL,
  "scdtype" bit(1) DEFAULT NULL,
  "notes" text,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "isapproved" bit(1) DEFAULT b'0',
  "approvedby" bigint DEFAULT NULL,
  PRIMARY KEY ("bomdid"),
  CONSTRAINT "apb_u_bmd" FOREIGN KEY ("approvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "bmid_bm_bmd" FOREIGN KEY ("bomid") REFERENCES "bom" ("bomid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "cb_u_bmd" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "db_u_bmd" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "mb_u_bmd" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "proid_pro_bmd" FOREIGN KEY ("proid") REFERENCES "product" ("proid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "pvid_pv_bmd" FOREIGN KEY ("pvid") REFERENCES "provariants" ("pvid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uomid_uom_bmd" FOREIGN KEY ("uomid") REFERENCES "unitofmeasure" ("uomid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "bomschedule" (
  "bsid" BIGSERIAL  ,
  "date" timestamp DEFAULT NULL,
  "bomid" bigint DEFAULT NULL,
  "bomscheduleno" integer DEFAULT NULL,
  "uaid" bigint DEFAULT NULL,
  "uoid" bigint DEFAULT NULL,
  "qty" decimal(19,4) DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "isapproved" bit(1) DEFAULT b'0',
  "approvedby" bigint DEFAULT NULL,
  PRIMARY KEY ("bsid"),
  CONSTRAINT "approvedby_u_bs" FOREIGN KEY ("approvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "bomid_bom_bs" FOREIGN KEY ("bomid") REFERENCES "bom" ("bomid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "createdby_u_bs" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_bs" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifiedby_u_bs" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uaid_ua_bs" FOREIGN KEY ("uaid") REFERENCES "useraddress" ("uaid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uoid_uo_bs" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "categories" (
  "catid" BIGSERIAL  ,
  "catname" varchar(250) NOT NULL,
  "categorytype" integer DEFAULT NULL,
  "catdesc" varchar(250) DEFAULT NULL,
  "catfullpath" text,
  "parentcatid" integer DEFAULT NULL,
  "orderno" integer DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "ispublished" bit(1) DEFAULT NULL,
  "displayorder" bigint DEFAULT NULL,
  PRIMARY KEY ("catid"),
  CONSTRAINT "createdby_u_c" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_c" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_c" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "countries" (
  "countryid" BIGSERIAL  ,
  "latitude" decimal(10,8) DEFAULT NULL,
  "longitude" decimal(11,8) DEFAULT NULL,
  "created_at" timestamp NULL DEFAULT NULL,
  "updated_at" timestamp DEFAULT NULL,
  "flag" smallint NOT NULL DEFAULT 1,
  PRIMARY KEY ("countryid")
);

CREATE TABLE "currencies" (
  "currid" BIGSERIAL  ,
  "currname" varchar(50) DEFAULT NULL,
  "currisactive" bit(1) NOT NULL DEFAULT b'0',
  "currfractionname" varchar(50) DEFAULT NULL,
  "currfractionunits" integer DEFAULT NULL,
  "currsmallestfu" decimal(4,3) DEFAULT NULL,
  "currsymbol" varchar(1) DEFAULT NULL,
  "currnumformat" bigint DEFAULT NULL,
  PRIMARY KEY ("currid"),
  CONSTRAINT "currnumformat_mv_cu" FOREIGN KEY ("currnumformat") REFERENCES "mastervalues" ("mvid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "currencyexchange" (
  "ceid" BIGSERIAL  ,
  "cedate" timestamp DEFAULT NULL,
  "cefrom" bigint DEFAULT NULL,
  "ceto" bigint DEFAULT NULL,
  "cerate" decimal(19,4) DEFAULT NULL,
  "uid" bigint DEFAULT NULL,
  "ceforbuying" bit(1) NOT NULL DEFAULT b'0',
  "ceforselling" bit(1) NOT NULL DEFAULT b'0',
  "isdeleted" bit(1) NOT NULL DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("ceid"),
  CONSTRAINT "cefrom_cu_cex" FOREIGN KEY ("cefrom") REFERENCES "currencies" ("currid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "ceto_cu_cex" FOREIGN KEY ("ceto") REFERENCES "currencies" ("currid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "createdby_u_cex" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_cex" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_cex" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uid_u_cex" FOREIGN KEY ("uid") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "deliveryreturns" (
  "return_id" BIGSERIAL  ,
  "odtitemsmappingid" bigint NOT NULL,
  "returnquantity" decimal(18,2) NOT NULL,
  "returnstatus" bigint NOT NULL,
  "createdby" bigint NOT NULL,
  "createddate" timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  "approvedby" bigint DEFAULT NULL,
  "approveddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("return_id"),
  CONSTRAINT "orderreturns_ibfk_2" FOREIGN KEY ("odtitemsmappingid") REFERENCES "odtitemsmapping" ("odtimid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "orderreturns_masterval_returnstatusfk2" FOREIGN KEY ("returnstatus") REFERENCES "mastervalues" ("mvid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "doctype" (
  "id" BIGSERIAL  ,
  "doctypename" varchar(55) DEFAULT NULL,
  PRIMARY KEY ("id")
);

CREATE TABLE "documents" (
  "id" BIGSERIAL  ,
  "documentname" varchar(100) NOT NULL,
  "uploaddate" timestamp DEFAULT NULL,
  "filepath" varchar(255) NOT NULL,
  "createdby" bigint DEFAULT NULL,
  "Isdeleted" bit(1) DEFAULT NULL,
  "Modifiedby" bigint DEFAULT NULL,
  "Modifieddate" timestamp DEFAULT NULL,
  "fileextension" varchar(45) DEFAULT NULL,
  "docdesc" text,
  PRIMARY KEY ("id"),
  CONSTRAINT "documents_ibfk_1" FOREIGN KEY ("createdby") REFERENCES "users" ("uid")
);

CREATE TABLE "documentuploadsettings" (
  "id" BIGSERIAL  ,
  "allowedformatids" varchar(200) DEFAULT NULL,
  "alloweddoctypeids" varchar(200) DEFAULT NULL,
  "ismultifile" bit(1) DEFAULT NULL,
  "filecount" bigint DEFAULT NULL,
  "entitytypeid" bigint DEFAULT NULL,
  PRIMARY KEY ("id")
);

CREATE TABLE "entitydocumentsmapping" (
  "id" SERIAL  ,
  "entityid" bigint NOT NULL,
  "documentid" bigint NOT NULL,
  "entitytypeid" bigint DEFAULT NULL,
  "documenttypeid" bigint DEFAULT NULL,
  "createdate" timestamp DEFAULT NULL,
  "Isdeleted" bit(1) DEFAULT NULL,
  "Createdby" bigint DEFAULT NULL,
  PRIMARY KEY ("id")
);

CREATE TABLE "entitytype" (
  "id" BIGSERIAL  ,
  "entityname" varchar(50) DEFAULT NULL,
  "description" text,
  "createddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("id")
);

CREATE TABLE "errorlogs" (
  "eid" BIGSERIAL  ,
  "errormessage" text,
  "action" text,
  "uid" bigint DEFAULT NULL,
  "logtimestamp" timestamp NOT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp DEFAULT NULL,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("eid"),
  CONSTRAINT "createdby_u_elh" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_elh" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "elh_u_uid" FOREIGN KEY ("uid") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_elh" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "expenseattachment" (
  "expaid" BIGSERIAL  ,
  "expid" bigint DEFAULT NULL,
  "umid" bigint DEFAULT NULL,
  PRIMARY KEY ("expaid"),
  CONSTRAINT "expid_exp_ea" FOREIGN KEY ("expid") REFERENCES "expenses" ("expid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "umid_ui_ea" FOREIGN KEY ("umid") REFERENCES "userimages" ("umid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "expensedetails" (
  "expdid" BIGSERIAL  ,
  "expid" bigint DEFAULT NULL,
  "ledger" bigint DEFAULT NULL,
  "proid" bigint DEFAULT NULL,
  "expddesc" text,
  "expamount" decimal(19,4) DEFAULT NULL,
  "exptaxrate" decimal(5,2) DEFAULT NULL,
  "exptaxamount" decimal(19,4) DEFAULT NULL,
  "exptotalamount" decimal(19,4) DEFAULT NULL,
  "expeligible" bit(1) DEFAULT b'0',
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "isapproved" bit(1) DEFAULT b'0',
  "approvedby" bigint DEFAULT NULL,
  "approveddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("expdid"),
  CONSTRAINT "approvedby_u_expd" FOREIGN KEY ("approvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "createdby_u_expd" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_expd" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "expid_exp_expd" FOREIGN KEY ("expid") REFERENCES "expenses" ("expid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "ledgerid_l_expd" FOREIGN KEY ("ledger") REFERENCES "ledgers" ("ledgerid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_expd" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "proid_pro_expd" FOREIGN KEY ("proid") REFERENCES "product" ("proid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "expenses" (
  "expid" BIGSERIAL  ,
  "expno" integer DEFAULT NULL,
  "expdate" timestamp DEFAULT NULL,
  "seriesid" bigint DEFAULT NULL,
  "uoid" bigint DEFAULT NULL,
  "expby" bigint DEFAULT NULL,
  "expfrom" bigint DEFAULT NULL,
  "status" bigint DEFAULT NULL,
  "exptype" bit(1) DEFAULT b'0',
  "expremarks" text,
  "expnotes" text,
  "expsubtotal" decimal(19,4) DEFAULT NULL,
  "exptaxtotal" decimal(19,4) DEFAULT NULL,
  "expdiscount" decimal(19,4) DEFAULT NULL,
  "exproundoff" decimal(7,4) DEFAULT NULL,
  "exptotal" decimal(19,4) DEFAULT NULL,
  "expvendor" bigint DEFAULT NULL,
  "expvendoraddress" bigint DEFAULT NULL,
  "expstate" bigint DEFAULT NULL,
  "exppos" bigint DEFAULT NULL,
  "expaddrid" bigint DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "isapproved" bit(1) DEFAULT NULL,
  "approvedby" bigint DEFAULT NULL,
  "approveddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("expid"),
  CONSTRAINT "exp_u_approvedby" FOREIGN KEY ("approvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "exp_u_createdby" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "exp_u_deletedby" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "exp_u_modifyby" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "expaddrid_ua_exp" FOREIGN KEY ("expaddrid") REFERENCES "useraddress" ("uaid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "expby_u_exp" FOREIGN KEY ("expby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "expfrom_l_exp" FOREIGN KEY ("expfrom") REFERENCES "ledgers" ("ledgerid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "exppos_st_exp" FOREIGN KEY ("exppos") REFERENCES "states" ("stateid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "expstate_st_exp" FOREIGN KEY ("expstate") REFERENCES "states" ("stateid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "expvd_l_exp" FOREIGN KEY ("expvendor") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "expvdad_ua_exp" FOREIGN KEY ("expvendoraddress") REFERENCES "useraddress" ("uaid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "orgid_uo_exp" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "sid_s_exp" FOREIGN KEY ("seriesid") REFERENCES "series" ("sid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "status_mv_exp" FOREIGN KEY ("status") REFERENCES "mastervalues" ("mvid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "externalwarehouseandorgmapping" (
  "id" BIGSERIAL  ,
  "externaluserid" bigint DEFAULT NULL,
  "uoid" bigint DEFAULT NULL,
  PRIMARY KEY ("id")
);

CREATE TABLE "ezeoxnop" (
  "id" BIGSERIAL  ,
  "nopid" bigint DEFAULT NULL,
  "ezeoid" bigint DEFAULT NULL,
  "entitytype" varchar(45) DEFAULT NULL,
  "issynced" bit(1) DEFAULT NULL,
  "source" varchar(45) DEFAULT NULL,
  "filepath" text,
  "modifieddate" timestamp DEFAULT NULL,
  "modifiedby" bigint DEFAULT NULL,
  "createddate" timestamp DEFAULT NULL,
  "createdby" bigint DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  PRIMARY KEY ("id")
);

CREATE TABLE "fileextensiontype" (
  "id" BIGSERIAL  ,
  "fileextensionname" varchar(45) NOT NULL,
  PRIMARY KEY ("id")
);

CREATE TABLE "formlabels" (
  "flid" BIGSERIAL  ,
  "formid" bigint DEFAULT NULL,
  "labelname" text,
  "labeltype" integer DEFAULT NULL,
  "labeldesc" text,
  "labelreq" integer DEFAULT NULL,
  "labelval" text,
  "labelauto" smallint DEFAULT NULL,
  "labelgroup" text,
  "labelorderno" integer DEFAULT NULL,
  "labeldependent" bit(1) DEFAULT NULL,
  "parentlabelid" bigint DEFAULT NULL,
  "parentlabelvalue" text,
  "isdeleted" bit(1) DEFAULT b'0',
  "isAdmin" bit(1) NOT NULL DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("flid"),
  CONSTRAINT "fl_f_formid" FOREIGN KEY ("formid") REFERENCES "forms" ("formid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "fl_u_createdby" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "fl_u_deletedby" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "fl_u_modifyby" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "formlabelvalues" (
  "flvid" BIGSERIAL  ,
  "formid" bigint DEFAULT NULL,
  "labelid" bigint DEFAULT NULL,
  "formvalue" text,
  "application_no" integer DEFAULT NULL,
  "uid" bigint DEFAULT NULL,
  "uoid" bigint DEFAULT NULL,
  "submiteddate" timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  "isdeleted" bit(1) NOT NULL DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("flvid"),
  CONSTRAINT "flv_f_formid" FOREIGN KEY ("formid") REFERENCES "forms" ("formid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "flv_fl_formlabelid" FOREIGN KEY ("labelid") REFERENCES "formlabels" ("flid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "flv_u_createdby" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "flv_u_deletedby" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "flv_u_modifyby" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "flv_u_uid" FOREIGN KEY ("uid") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "flv_uo_uoid" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "forms" (
  "formid" BIGSERIAL  ,
  "detailsid" bigint DEFAULT NULL,
  "uid" bigint DEFAULT NULL,
  "uoid" bigint DEFAULT NULL,
  "isdeleted" bit(1) NOT NULL DEFAULT b'0',
  "description" text,
  "isadmin" bit(1) NOT NULL DEFAULT b'0',
  "tags" text,
  "formtype" integer DEFAULT NULL,
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("formid"),
  CONSTRAINT "f_u_createdby" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "f_u_deletedby" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "f_u_modifyby" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "f_u_uid" FOREIGN KEY ("uid") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "f_uo_uoid" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "gdattachments" (
  "gdaid" BIGSERIAL  ,
  "gdid" bigint DEFAULT NULL,
  "gid" bigint DEFAULT NULL,
  "attachment" text,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT NULL,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("gdaid"),
  CONSTRAINT "createdby_u_gda" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_gda" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "gdid_gd_gda" FOREIGN KEY ("gdid") REFERENCES "greviancedetails" ("gdid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "gid_g_gda" FOREIGN KEY ("gid") REFERENCES "greviance" ("gid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifiedby_u_gda" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "greviance" (
  "gid" BIGSERIAL  ,
  "uid" bigint DEFAULT NULL,
  "uoid" bigint DEFAULT NULL,
  "grevincetitle" varchar(200) DEFAULT NULL,
  "grevincedescription" text,
  "resolveddate" timestamp DEFAULT NULL,
  "resolvedby" bigint DEFAULT NULL,
  "ticketno" varchar(8) DEFAULT NULL,
  "year" year DEFAULT NULL,
  "priority" integer DEFAULT NULL,
  "iscompleted" bit(1) DEFAULT b'0',
  "gdate" timestamp DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("gid"),
  CONSTRAINT "createdby_u_g" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_g" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifiedby_u_g" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "resolvedby_u_g" FOREIGN KEY ("resolvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uid_u_g" FOREIGN KEY ("uid") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uoid_uo_g" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "greviancedetails" (
  "gdid" BIGSERIAL  ,
  "gid" bigint DEFAULT NULL,
  "fromid" bigint DEFAULT NULL,
  "gddate" timestamp DEFAULT NULL,
  "gdreply" text,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("gdid"),
  CONSTRAINT "createdby_u_gd" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "fromid_u_gd" FOREIGN KEY ("fromid") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "gid_g_gd" FOREIGN KEY ("gid") REFERENCES "greviance" ("gid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifiedby_u_gd" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "identityproof" (
  "uipid" BIGSERIAL  ,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "idusetype" integer DEFAULT NULL,
  PRIMARY KEY ("uipid"),
  CONSTRAINT "ip_u_createdby" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "ip_u_deletedby" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "ip_u_modifyby" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "invoiceattachment" (
  "iaid" BIGSERIAL  ,
  "invoiceid" bigint DEFAULT NULL,
  "umid" bigint DEFAULT NULL,
  PRIMARY KEY ("iaid"),
  CONSTRAINT "invoiceid_i_ia" FOREIGN KEY ("invoiceid") REFERENCES "invoices" ("invoiceid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "umid_um_ia" FOREIGN KEY ("umid") REFERENCES "userimages" ("umid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "invoicedeliverymapping" (
  "idmid" BIGSERIAL  ,
  "invoiceid" bigint DEFAULT NULL,
  "odtid" bigint DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "isapproved" bit(1) DEFAULT b'0',
  "approvedby" bigint DEFAULT NULL,
  "approveddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("idmid"),
  CONSTRAINT "approvedby_u_idm" FOREIGN KEY ("approvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "createdby_u_idm" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_idm" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "invid_inv_idm" FOREIGN KEY ("invoiceid") REFERENCES "invoices" ("invoiceid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_idm" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "odtid_odt_idm" FOREIGN KEY ("odtid") REFERENCES "orderdeliverytracking" ("odtid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "invoices" (
  "invoiceid" BIGSERIAL  ,
  "invoicedate" timestamp DEFAULT NULL,
  "invoiceseriesid" bigint DEFAULT NULL,
  "invoiceno" integer DEFAULT NULL,
  "otherpartyrefno" varchar(100) DEFAULT NULL,
  "orderid" bigint DEFAULT NULL,
  "uoid" bigint DEFAULT NULL,
  "isdeleted" bit(1) NOT NULL DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "isapproved" bit(1) DEFAULT b'0',
  "approvedby" bigint DEFAULT NULL,
  "approveddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("invoiceid"),
  CONSTRAINT "approvedby_u_i" FOREIGN KEY ("approvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "createdby_u_i" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_i" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_i" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "orid_or_in" FOREIGN KEY ("orderid") REFERENCES "orders" ("orderid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uoid_uo_in" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "journal" (
  "journalid" BIGSERIAL  ,
  "seriesid" bigint DEFAULT NULL,
  "journalvchno" integer DEFAULT NULL,
  "ledgerid" bigint DEFAULT NULL,
  "amount" decimal(19,2) DEFAULT NULL,
  "creditdebit" bit(1) DEFAULT NULL,
  "journalvalue" decimal(19,2) DEFAULT NULL,
  "journaldate" timestamp DEFAULT NULL,
  "remark" varchar(250) DEFAULT NULL,
  "uoid" bigint DEFAULT NULL,
  "refid" bigint DEFAULT NULL,
  "reftable" varchar(100) DEFAULT NULL,
  "isdeleted" bit(1) NOT NULL DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "isapproved" bit(1) NOT NULL DEFAULT b'0',
  "approvedby" bigint DEFAULT NULL,
  "approveddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("journalid"),
  CONSTRAINT "approvedby_u_jo" FOREIGN KEY ("approvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "createdby_u_jo" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_jo" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "lid_leg_jo" FOREIGN KEY ("ledgerid") REFERENCES "ledgers" ("ledgerid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_jo" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "sid_s_j" FOREIGN KEY ("seriesid") REFERENCES "series" ("sid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uoid_uo_jo" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "journalattachment" (
  "jaid" BIGSERIAL  ,
  "journalid" bigint DEFAULT NULL,
  "umid" bigint DEFAULT NULL,
  PRIMARY KEY ("jaid"),
  CONSTRAINT "journalid_j_ja" FOREIGN KEY ("journalid") REFERENCES "journal" ("journalid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "umid_um_ja" FOREIGN KEY ("umid") REFERENCES "userimages" ("umid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "kycdetails" (
  "ukid" BIGSERIAL  ,
  "uid" bigint NOT NULL,
  "idtype" bigint NOT NULL,
  "idupload" text,
  "idverifiedby" bigint DEFAULT NULL,
  "idverificationdate" timestamp DEFAULT NULL,
  "idvalidtill" timestamp DEFAULT NULL,
  "idissuedon" timestamp DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "iddealertype" integer DEFAULT NULL,
  "uoid" bigint DEFAULT NULL,
  PRIMARY KEY ("ukid"),
  CONSTRAINT "createdby_u_kd" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_kd" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "kd_u_uid" FOREIGN KEY ("uid") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "kd_uo_orgid" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_kd" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "ledgers" (
  "ledgerid" BIGSERIAL  ,
  "catid" bigint DEFAULT NULL,
  "ledgername" varchar(250) DEFAULT NULL,
  "ledgerdesc" text,
  "ledgerob" decimal(19,4) DEFAULT NULL,
  "uoid" bigint DEFAULT NULL,
  "bankid" bigint DEFAULT NULL,
  "bankaccno" varchar(50) DEFAULT NULL,
  "bankswiftcode" varchar(50) DEFAULT NULL,
  "bankmicrcode" varchar(50) DEFAULT NULL,
  "bankifsccode" varchar(50) DEFAULT NULL,
  "bankactype" varchar(45) DEFAULT NULL,
  "bankregmobno" varchar(45) DEFAULT NULL,
  "ledgeraddr" varchar(500) DEFAULT NULL,
  "ledgercode" varchar(50) DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("ledgerid"),
  CONSTRAINT "createdby_u_l" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_l" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "l_c_catid" FOREIGN KEY ("catid") REFERENCES "categories" ("catid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "l_org_orgid" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_l" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "ledgertaxmapping" (
  "ltmid" BIGSERIAL  ,
  "ledgerid" bigint DEFAULT NULL,
  "hsncode" integer DEFAULT NULL,
  "isexempt" bit(1) DEFAULT NULL,
  "effectivedate" timestamp DEFAULT NULL,
  "taxrate" decimal(4,2) DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("ltmid"),
  CONSTRAINT "createdby_u_ltm" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_ltm" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "ltm_l_ledgerid" FOREIGN KEY ("ledgerid") REFERENCES "ledgers" ("ledgerid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_ltm" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "ledgerusermapping" (
  "lumid" BIGSERIAL  ,
  "ledgerid" bigint DEFAULT NULL,
  "uid" bigint DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("lumid"),
  CONSTRAINT "createdby_u_lum" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_lum" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "lm_l_ledgerid" FOREIGN KEY ("ledgerid") REFERENCES "ledgers" ("ledgerid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "lm_u_uid" FOREIGN KEY ("uid") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_lum" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "manufacturer" (
  "Id" BIGSERIAL  ,
  "ManufacturerTemplateId" integer NOT NULL,
  "PictureId" integer NOT NULL,
  "PageSize" integer NOT NULL,
  "AllowCustomersToSelectPageSize" smallint NOT NULL,
  "SubjectToAcl" smallint NOT NULL,
  "LimitedToStores" smallint NOT NULL,
  "Published" smallint NOT NULL,
  "isdeleted" smallint NOT NULL,
  "DisplayOrder" integer NOT NULL,
  "CreatedOnUtc" timestamp(6) NOT NULL,
  "UpdatedOnUtc" timestamp(6) NOT NULL,
  "PriceRangeFiltering" smallint NOT NULL,
  "PriceFrom" decimal(18,4) NOT NULL,
  "PriceTo" decimal(18,4) NOT NULL,
  "ManuallyPriceRange" smallint NOT NULL,
  PRIMARY KEY ("Id")
);

CREATE TABLE "master" (
  "masterid" BIGSERIAL  ,
  "mastername" varchar(100) DEFAULT NULL,
  PRIMARY KEY ("masterid")
);

CREATE TABLE "mastervalues" (
  "mvid" BIGSERIAL  ,
  "masterid" bigint NOT NULL,
  "mastervalue" varchar(100) DEFAULT NULL,
  "uoid" bigint DEFAULT NULL,
  "isdeleted" bit(1) NOT NULL DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("mvid"),
  CONSTRAINT "createdby_u_mv" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_mv" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_mv" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "mv_m_masterid" FOREIGN KEY ("masterid") REFERENCES "master" ("masterid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "mv_uo_uoid" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "materialattachment" (
  "mraid" BIGSERIAL  ,
  "mrid" bigint DEFAULT NULL,
  "umid" bigint DEFAULT NULL,
  PRIMARY KEY ("mraid"),
  CONSTRAINT "mrid_mr_mra" FOREIGN KEY ("mrid") REFERENCES "materialrequest" ("mrid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "umid_um_mra" FOREIGN KEY ("umid") REFERENCES "userimages" ("umid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "materialrequest" (
  "mrid" BIGSERIAL  ,
  "mrtype" bit(1) DEFAULT b'0',
  "uoid" bigint DEFAULT NULL,
  "seriesid" bigint DEFAULT NULL,
  "mrno" integer DEFAULT NULL,
  "sourcewarehouse" bigint DEFAULT NULL,
  "targetwarehouse" bigint DEFAULT NULL,
  "mrdate" timestamp DEFAULT NULL,
  "mrrequireddate" timestamp DEFAULT NULL,
  "ordertandc" text,
  "isdeleted" bit(1) NOT NULL DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "isapproved" bit(1) DEFAULT NULL,
  "approvedby" bigint DEFAULT NULL,
  "approveddate" timestamp DEFAULT NULL,
  "status" bigint DEFAULT NULL,
  "isexternal" bit(1) DEFAULT NULL,
  PRIMARY KEY ("mrid"),
  CONSTRAINT "approvedby_u_mr" FOREIGN KEY ("approvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "createdby_u_mr" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_mr" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_mr" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "orgid_org_mr" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "sid_s_mr" FOREIGN KEY ("seriesid") REFERENCES "series" ("sid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "materialrequestitems" (
  "mriid" BIGSERIAL  ,
  "mrid" bigint DEFAULT NULL,
  "proid" bigint DEFAULT NULL,
  "pvid" bigint DEFAULT NULL,
  "price" decimal(10,0) NOT NULL,
  "updatedprice" decimal(10,0) DEFAULT NULL,
  "itemqty" decimal(18,4) DEFAULT NULL,
  "itemtargetlocation" bigint DEFAULT NULL,
  "itemrequestby" bigint DEFAULT NULL,
  "itemuom" bigint DEFAULT NULL,
  "itemuomcfactor" decimal(8,2) DEFAULT NULL,
  "itemselecteduom" bigint DEFAULT NULL,
  "isdeleted" bit(1) NOT NULL DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "isapproved" bit(1) DEFAULT NULL,
  "approvedby" bigint DEFAULT NULL,
  "approveddate" timestamp DEFAULT NULL,
  "avialableitemqty" decimal(18,4) DEFAULT NULL,
  PRIMARY KEY ("mriid"),
  CONSTRAINT "approvedby_u_mri" FOREIGN KEY ("approvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "createdby_u_mri" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_mri" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "irb_u_mri" FOREIGN KEY ("itemrequestby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "itemuom_uom_mri" FOREIGN KEY ("itemuom") REFERENCES "unitofmeasure" ("uomid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_mri" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "mrid_mr_mri" FOREIGN KEY ("mrid") REFERENCES "materialrequest" ("mrid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "proid_pro_mri" FOREIGN KEY ("proid") REFERENCES "product" ("proid"),
  CONSTRAINT "provid_prov_mri" FOREIGN KEY ("pvid") REFERENCES "provariants" ("pvid")
);

CREATE TABLE "mridetails" (
  "mridid" BIGSERIAL  ,
  "mriid" bigint DEFAULT NULL,
  "mrid" bigint DEFAULT NULL,
  "attributeid" bigint DEFAULT NULL,
  "attrvalue" text,
  "isdeleted" bit(1) NOT NULL DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "isapproved" bit(1) DEFAULT NULL,
  "approvedby" bigint DEFAULT NULL,
  "approveddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("mridid"),
  CONSTRAINT "approvedby_u_mrid" FOREIGN KEY ("approvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "attrid_att_md" FOREIGN KEY ("attributeid") REFERENCES "attributes" ("attributeid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "createdby_u_mrid" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_mrid" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_mrid" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "mrid_mr_mrid" FOREIGN KEY ("mrid") REFERENCES "materialrequest" ("mrid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "mriid_mri_md" FOREIGN KEY ("mriid") REFERENCES "materialrequestitems" ("mriid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "odtitemsmapping" (
  "odtimid" BIGSERIAL  ,
  "odtid" bigint DEFAULT NULL,
  "oitemsid" bigint DEFAULT NULL,
  "deliveredqty" decimal(19,4) DEFAULT NULL,
  "recivedqty" decimal(19,4) DEFAULT NULL,
  "dom" timestamp DEFAULT NULL,
  "doe" timestamp DEFAULT NULL,
  "bcode" varchar(50) DEFAULT NULL,
  "fcode" varchar(50) DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "isapproved" bit(1) DEFAULT NULL,
  "approvedby" bigint DEFAULT NULL,
  "approveddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("odtimid"),
  CONSTRAINT "approvedby_u_oim" FOREIGN KEY ("approvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "createdby_u_oim" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_oim" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_oim" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "odtid_odm_oim" FOREIGN KEY ("odtid") REFERENCES "orderdeliverytracking" ("odtid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "oitemsid_oi_oim" FOREIGN KEY ("oitemsid") REFERENCES "orderitems" ("oitemsid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "offermappings" (
  "omid" BIGSERIAL  ,
  "offerid" bigint DEFAULT NULL,
  "idtype" integer DEFAULT NULL,
  "forid" bigint DEFAULT NULL,
  "isfree" bit(1) DEFAULT NULL,
  PRIMARY KEY ("omid"),
  CONSTRAINT "offerid_offer_ofm" FOREIGN KEY ("offerid") REFERENCES "offers" ("offerid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "offers" (
  "offerid" BIGSERIAL  ,
  "offername" varchar(250) DEFAULT NULL,
  "offerdescription" text,
  "couponcode" varchar(50) DEFAULT NULL,
  "termscondi" text,
  "startdate" timestamp DEFAULT NULL,
  "enddate" timestamp DEFAULT NULL,
  "discpercentage" decimal(5,2) DEFAULT NULL,
  "discmaxamount" decimal(19,2) DEFAULT NULL,
  "discountmaxtimes" decimal(19,2) DEFAULT NULL,
  "itemprice" decimal(19,2) DEFAULT NULL,
  "offertype" integer DEFAULT NULL,
  "noofbuyproducts" integer DEFAULT NULL,
  "nooffreeproducts" integer DEFAULT NULL,
  "isclubbable" bit(1) DEFAULT NULL,
  "resetdays" integer DEFAULT NULL,
  "discbasis" bigint DEFAULT NULL,
  "mincartamount" decimal(10,0) DEFAULT NULL,
  "cardtype" bigint DEFAULT NULL,
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "isdeleted" bit(1) NOT NULL DEFAULT b'0',
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "isapproved" bit(1) NOT NULL DEFAULT b'0',
  "approvedby" bigint DEFAULT NULL,
  "approveddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("offerid"),
  CONSTRAINT "approvedby_u_offr" FOREIGN KEY ("approvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "createdby_u_offr" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "dbid_mv_of" FOREIGN KEY ("discbasis") REFERENCES "mastervalues" ("mvid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_offr" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_offr" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "offerusage" (
  "offerusegid" BIGSERIAL  ,
  "offerid" bigint DEFAULT NULL,
  "uid" bigint DEFAULT NULL,
  "uoid" bigint DEFAULT NULL,
  "discountvalue" decimal(19,2) DEFAULT NULL,
  "usagedate" timestamp DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "isapproved" bit(1) NOT NULL DEFAULT b'0',
  "approvedby" bigint DEFAULT NULL,
  "approveddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("offerusegid"),
  CONSTRAINT "approvedby_u_ofu" FOREIGN KEY ("approvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "createdby_u_ofu" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_ofu" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_ofu" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "ofid_of_ofu" FOREIGN KEY ("offerid") REFERENCES "offers" ("offerid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uid_u_ofu" FOREIGN KEY ("uid") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uoid_uo_ofu" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "orderattachment" (
  "oaid" BIGSERIAL  ,
  "orderid" bigint DEFAULT NULL,
  "umid" bigint DEFAULT NULL,
  PRIMARY KEY ("oaid"),
  CONSTRAINT "orderid_o_oa" FOREIGN KEY ("orderid") REFERENCES "orders" ("orderid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "umid_o_um" FOREIGN KEY ("umid") REFERENCES "userimages" ("umid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "orderdeliverytracking" (
  "odtid" BIGSERIAL  ,
  "orderid" bigint DEFAULT NULL,
  "uoid" bigint DEFAULT NULL,
  "status" bigint DEFAULT NULL,
  "odtdate" timestamp DEFAULT NULL,
  "odtshipper" bigint DEFAULT NULL,
  "odtno" integer DEFAULT NULL,
  "odtshiptype" bigint DEFAULT NULL,
  "odtexpdeldate" timestamp DEFAULT NULL,
  "odtactualdate" timestamp DEFAULT NULL,
  "odtawbno" varchar(45) DEFAULT NULL,
  "odturl" varchar(250) DEFAULT NULL,
  "odtvehicleno" varchar(50) DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "isapproved" bit(1) DEFAULT NULL,
  "approvedby" bigint DEFAULT NULL,
  "approveddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("odtid"),
  CONSTRAINT "approvedby_u_odt" FOREIGN KEY ("approvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "createdby_u_odt" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_odt" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modfiyby_u_odt" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "odt_mv_mvid" FOREIGN KEY ("status") REFERENCES "mastervalues" ("mvid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "odt_order_orderId" FOREIGN KEY ("orderid") REFERENCES "orders" ("orderid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "odt_uo_uoid" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "odtshipper_u_odt" FOREIGN KEY ("odtshipper") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "odtspt_mv_odt" FOREIGN KEY ("odtshiptype") REFERENCES "mastervalues" ("mvid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "orderitemdetails" (
  "oidid" BIGSERIAL  ,
  "oitemsid" bigint DEFAULT NULL,
  "orderid" bigint DEFAULT NULL,
  "attributeid" bigint DEFAULT NULL,
  "attrvalue" text,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "isapproved" bit(1) DEFAULT NULL,
  "approvedby" bigint DEFAULT NULL,
  "approveddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("oidid"),
  CONSTRAINT "approvedby_u_oid" FOREIGN KEY ("approvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "attrid_att_oid" FOREIGN KEY ("attributeid") REFERENCES "attributes" ("attributeid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "createdby_u_oid" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_oid" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_oid" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "oitemsid_oitem_oid" FOREIGN KEY ("oitemsid") REFERENCES "orderitems" ("oitemsid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "orderid_o_oid" FOREIGN KEY ("orderid") REFERENCES "orders" ("orderid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "orderitems" (
  "oitemsid" BIGSERIAL  ,
  "orderid" bigint DEFAULT NULL,
  "proid" bigint DEFAULT NULL,
  "pvid" bigint DEFAULT NULL,
  "reqdeliverydate" timestamp DEFAULT NULL,
  "expdeliverydate" timestamp DEFAULT NULL,
  "itemuom" bigint DEFAULT NULL,
  "itemuomcfactor" decimal(8,2) DEFAULT NULL,
  "itemselecteduom" bigint DEFAULT NULL,
  "itemqty" decimal(19,4) DEFAULT NULL,
  "deliveredqty" decimal(19,4) DEFAULT NULL,
  "recivedqty" decimal(19,4) DEFAULT NULL,
  "itemrate" decimal(19,4) DEFAULT NULL,
  "itemamount" decimal(19,4) DEFAULT NULL,
  "itemtaxrate" decimal(5,2) DEFAULT NULL,
  "itemtaxamount" decimal(19,4) DEFAULT NULL,
  "itemgrossamt" decimal(19,4) DEFAULT NULL,
  "itemnote" varchar(250) DEFAULT NULL,
  "ledgerid" bigint DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "isapproved" bit(1) DEFAULT NULL,
  "approvedby" bigint DEFAULT NULL,
  "approveddate" timestamp DEFAULT NULL,
  "isdelivered" bit(1) DEFAULT NULL,
  "varianceqty" decimal(19,4) DEFAULT NULL,
  "returnqty" decimal(19,4) DEFAULT NULL,
  PRIMARY KEY ("oitemsid"),
  CONSTRAINT "approvedby_u_oi" FOREIGN KEY ("approvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "createdby_u_oi" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_oi" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "itemuom_uom_ot" FOREIGN KEY ("itemuom") REFERENCES "unitofmeasure" ("uomid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "ldid_ld_ot" FOREIGN KEY ("ledgerid") REFERENCES "ledgers" ("ledgerid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_oi" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "orderid_or_ot" FOREIGN KEY ("orderid") REFERENCES "orders" ("orderid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "proid_p_ot" FOREIGN KEY ("proid") REFERENCES "product" ("proid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "pvid_pv_ot" FOREIGN KEY ("pvid") REFERENCES "provariants" ("pvid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "orderreturns" (
  "return_id" BIGSERIAL  ,
  "odtitemsmappingid" bigint NOT NULL,
  "returnquantity" decimal(18,2) NOT NULL,
  "returnstatus" bigint NOT NULL,
  "createdby" bigint NOT NULL,
  "createddate" timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  "approvedby" bigint DEFAULT NULL,
  "approveddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("return_id"),
  CONSTRAINT "orderreturns_ibfk_1" FOREIGN KEY ("odtitemsmappingid") REFERENCES "odtitemsmapping" ("odtimid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "orders" (
  "orderid" BIGSERIAL  ,
  "ordertype" bit(1) DEFAULT NULL,
  "isfa" bit(1) DEFAULT b'0',
  "uoid" bigint DEFAULT NULL,
  "orderno" integer DEFAULT NULL,
  "otherpartyorderno" varchar(500) DEFAULT NULL,
  "orderseriesid" bigint DEFAULT NULL,
  "orderdate" timestamp DEFAULT NULL,
  "orderstatus" bigint DEFAULT NULL,
  "orderterms" bigint DEFAULT NULL,
  "orderremarks" text,
  "ordernote" text,
  "orderjurisidiction" varchar(500) DEFAULT NULL,
  "ordersupplystate" bigint DEFAULT NULL,
  "orderstate" bigint DEFAULT NULL,
  "orderitemtotal" decimal(19,4) DEFAULT NULL,
  "ordertaxtotal" decimal(19,4) DEFAULT NULL,
  "orderledgertotal" decimal(19,4) DEFAULT NULL,
  "orderdiscount" decimal(19,4) DEFAULT NULL,
  "ordertotal" decimal(19,4) DEFAULT NULL,
  "deliverydate" timestamp DEFAULT NULL,
  "buyerid" bigint NOT NULL,
  "sellerid" bigint DEFAULT NULL,
  "consigneeid" bigint DEFAULT NULL,
  "promocode" varchar(50) DEFAULT NULL,
  "discpercentage" decimal(4,2) DEFAULT NULL,
  "discamount" decimal(19,4) DEFAULT NULL,
  "discbasis" bigint DEFAULT NULL,
  "ordertandc" text,
  "ordersource" bigint DEFAULT NULL,
  "ordercampaign" bigint DEFAULT NULL,
  "orderdeliverfrom" bigint DEFAULT NULL,
  "orderdeliverto" bigint DEFAULT NULL,
  "shippingruleid" bigint DEFAULT NULL,
  "isinternalorder" bit(1) DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "isapproved" bit(1) DEFAULT NULL,
  "approvedby" bigint DEFAULT NULL,
  "approveddate" timestamp DEFAULT NULL,
  "paymentstatus" integer DEFAULT NULL,
  "shippingstatus" integer DEFAULT NULL,
  "materialrequestid" bigint DEFAULT NULL,
  PRIMARY KEY ("orderid"),
  CONSTRAINT "approvedby_u_or" FOREIGN KEY ("approvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "bid_u_or" FOREIGN KEY ("buyerid") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "cid_u_or" FOREIGN KEY ("consigneeid") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "createdby_u_or" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "db_mv_or" FOREIGN KEY ("discbasis") REFERENCES "mastervalues" ("mvid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_or" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_or" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "mrid_or" FOREIGN KEY ("materialrequestid") REFERENCES "materialrequest" ("mrid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "odf_ua_or" FOREIGN KEY ("orderdeliverfrom") REFERENCES "useraddress" ("uaid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "odt_ua_or" FOREIGN KEY ("orderdeliverto") REFERENCES "useraddress" ("uaid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "ord_org_uoid" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "ors_mv_or" FOREIGN KEY ("ordersource") REFERENCES "mastervalues" ("mvid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "os_mv_or" FOREIGN KEY ("orderstatus") REFERENCES "mastervalues" ("mvid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "os_s_or" FOREIGN KEY ("orderstate") REFERENCES "states" ("stateid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "oss_s_or" FOREIGN KEY ("ordersupplystate") REFERENCES "states" ("stateid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "ot_mv_or" FOREIGN KEY ("orderterms") REFERENCES "mastervalues" ("mvid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "sellerid_u_or" FOREIGN KEY ("sellerid") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "ordersalescommision" (
  "oscid" BIGSERIAL  ,
  "orderid" bigint DEFAULT NULL,
  "partnerid" bigint DEFAULT NULL,
  "partnerledgerid" bigint DEFAULT NULL,
  "commissioncalcamount" decimal(19,4) DEFAULT NULL,
  "commisionperc" decimal(5,2) DEFAULT NULL,
  "commisionamount" decimal(19,4) DEFAULT NULL,
  "commisionbasis" bigint DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "isapproved" bit(1) DEFAULT NULL,
  "approvedby" bigint DEFAULT NULL,
  "approveddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("oscid"),
  CONSTRAINT "approvedby_u_osc" FOREIGN KEY ("approvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "createdby_u_osc" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_osc" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_osc" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "orid_or_orc" FOREIGN KEY ("orderid") REFERENCES "orders" ("orderid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "plid_l_orc" FOREIGN KEY ("partnerledgerid") REFERENCES "ledgers" ("ledgerid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "ordertaxdetails" (
  "otdid" BIGSERIAL  ,
  "orderid" bigint DEFAULT NULL,
  "ordertaxtypeid" bigint DEFAULT NULL,
  "ordertaxbasis" bigint DEFAULT NULL,
  "ledgerid" bigint DEFAULT NULL,
  "ordertaxrate" decimal(6,2) DEFAULT NULL,
  "ordertaxableamount" decimal(19,4) DEFAULT NULL,
  "ordertaxamount" decimal(19,4) DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "isapproved" bit(1) DEFAULT NULL,
  "approvedby" bigint DEFAULT NULL,
  "approveddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("otdid"),
  CONSTRAINT "approvedby_u_otd" FOREIGN KEY ("approvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "createdby_u_otd" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_otd" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "lid_l_otd" FOREIGN KEY ("ledgerid") REFERENCES "ledgers" ("ledgerid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_otd" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "orid_or_otd" FOREIGN KEY ("orderid") REFERENCES "orders" ("orderid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "otbid_mv_otd" FOREIGN KEY ("ordertaxbasis") REFERENCES "mastervalues" ("mvid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "ottid_mv_otd" FOREIGN KEY ("ordertaxtypeid") REFERENCES "mastervalues" ("mvid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "orgrolemapping" (
  "ormid" BIGSERIAL  ,
  "orgid" bigint DEFAULT NULL,
  "roleid" bigint DEFAULT NULL,
  "Isdeleted" bit(1) DEFAULT NULL,
  "Createdby" bigint DEFAULT NULL,
  PRIMARY KEY ("ormid"),
  CONSTRAINT "orgtorole" FOREIGN KEY ("orgid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "roletoorg" FOREIGN KEY ("roleid") REFERENCES "roles" ("roleid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "payment" (
  "payid" BIGSERIAL  ,
  "ptid" bigint DEFAULT NULL,
  "ptype" bit(1) DEFAULT NULL,
  "uid" bigint DEFAULT NULL,
  "uoid" bigint DEFAULT NULL,
  "status" bit(1) DEFAULT NULL,
  "currid" bigint DEFAULT NULL,
  "paymentdate" timestamp DEFAULT NULL,
  "modeofpayment" bigint DEFAULT NULL,
  "accid" bigint DEFAULT NULL,
  "banktransid" varchar(10) DEFAULT NULL,
  "otpartyaccid" bigint DEFAULT NULL,
  "pnotes" text,
  "premarks" text,
  "amount" decimal(19,4) DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT NULL,
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "isapproved" bit(1) DEFAULT NULL,
  "approvedby" bigint DEFAULT NULL,
  "approveddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("payid"),
  CONSTRAINT "ab_u_pt" FOREIGN KEY ("approvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "accid_l_pt" FOREIGN KEY ("accid") REFERENCES "ledgers" ("ledgerid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "cb_u_pt" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "db_u_pt" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "mb_u_pt" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "otpartyaccid_l_pt" FOREIGN KEY ("otpartyaccid") REFERENCES "ledgers" ("ledgerid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "ptid_mv_pt" FOREIGN KEY ("ptid") REFERENCES "mastervalues" ("mvid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "pmanmapping" (
  "pmmid" BIGSERIAL  ,
  "proid" bigint DEFAULT NULL,
  "manid" bigint DEFAULT NULL,
  "Isdeleted" bit(1) DEFAULT NULL,
  "Createdby" bigint DEFAULT NULL,
  "Modifiedby" bigint DEFAULT NULL,
  "Modifieddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("pmmid"),
  CONSTRAINT "pmm_man" FOREIGN KEY ("manid") REFERENCES "manufacturer" ("Id") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "pmm_pro" FOREIGN KEY ("proid") REFERENCES "product" ("proid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "product" (
  "proid" BIGSERIAL  ,
  "proname" varchar(250) DEFAULT NULL,
  "proconfig" integer DEFAULT NULL,
  "prodescription" text,
  "shortdescription" text,
  "protype" bit(1) DEFAULT b'0',
  "proisactive" bit(1) DEFAULT b'0',
  "prouom" bigint DEFAULT NULL,
  "proisfa" bit(1) DEFAULT b'0',
  "proorigin" bigint DEFAULT NULL,
  "prodisplayinweb" bit(1) DEFAULT b'0',
  "expiryfrom" integer DEFAULT NULL,
  "ispurchasable" bit(1) DEFAULT b'1',
  "prowatermarkid" bigint DEFAULT NULL,
  "uoid" bigint DEFAULT NULL,
  "catid" bigint DEFAULT NULL,
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "price" decimal(10,0) DEFAULT NULL,
  PRIMARY KEY ("proid"),
  CONSTRAINT "catid_cat_pro" FOREIGN KEY ("catid") REFERENCES "categories" ("catid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "createdby_u_p" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_p" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_p" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "proorigin_c_p" FOREIGN KEY ("proorigin") REFERENCES "countries" ("countryid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "prouom_uom_p" FOREIGN KEY ("prouom") REFERENCES "unitofmeasure" ("uomid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "prowm_ui_p" FOREIGN KEY ("prowatermarkid") REFERENCES "userimages" ("umid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uoid_uo_p" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "productcategorymapping" (
  "id" BIGSERIAL  ,
  "proid" bigint NOT NULL,
  "catid" bigint NOT NULL,
  "created_at" timestamp DEFAULT CURRENT_TIMESTAMP,
  "isdeleted" bit(1) DEFAULT NULL,
  "createdby" bigint DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("id"),
  CONSTRAINT "pro_cat_map_catid_fk" FOREIGN KEY ("catid") REFERENCES "categories" ("catid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "pro_cat_map_proid_fk" FOREIGN KEY ("proid") REFERENCES "product" ("proid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "productcurrentstock" (
  "id" BIGSERIAL  ,
  "orgid" bigint DEFAULT NULL,
  "uaid" bigint DEFAULT NULL,
  "proid" bigint DEFAULT NULL,
  "pvid" bigint DEFAULT NULL,
  "lastpurchasedprice" decimal(10,0) DEFAULT NULL,
  "bqty" bigint DEFAULT NULL,
  "reservedqty" bigint DEFAULT NULL,
  "pendingqty" bigint DEFAULT NULL,
  "pvstatus" bigint DEFAULT NULL,
  "Isdeleted" bit(1) DEFAULT NULL,
  "Createdby" bigint DEFAULT NULL,
  PRIMARY KEY ("id"),
  CONSTRAINT "pcs_pro_map" FOREIGN KEY ("proid") REFERENCES "product" ("proid"),
  CONSTRAINT "pcs_pv_map" FOREIGN KEY ("pvid") REFERENCES "provariants" ("pvid"),
  CONSTRAINT "pcs_ua_map" FOREIGN KEY ("uaid") REFERENCES "useraddress" ("uaid"),
  CONSTRAINT "pcs_uo_map" FOREIGN KEY ("orgid") REFERENCES "userorganization" ("uoid")
);

CREATE TABLE "productreview" (
  "reviewid" BIGSERIAL  ,
  "proid" bigint DEFAULT NULL,
  "reviewedby" bigint DEFAULT NULL,
  "reviewtitle" varchar(250) DEFAULT NULL,
  "reviewdescription" text,
  "reviewimg" text,
  "isdeleted" bit(1) NOT NULL DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("reviewid"),
  CONSTRAINT "createdby_u_pr" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_pr" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_pr" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "proid_p_pr" FOREIGN KEY ("proid") REFERENCES "product" ("proid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "prorate" (
  "prid" BIGSERIAL  ,
  "prorateno" integer DEFAULT NULL,
  "uoid" bigint DEFAULT NULL,
  "uaid" bigint DEFAULT NULL,
  "proid" bigint DEFAULT NULL,
  "pvid" bigint DEFAULT NULL,
  "applicabledate" timestamp DEFAULT NULL,
  "rate" decimal(19,4) DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("prid"),
  CONSTRAINT "created_u_pr" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deleted_u_pr" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modified_u_pr" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "proid_pro_pr" FOREIGN KEY ("proid") REFERENCES "product" ("proid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "pvid_pv_pr" FOREIGN KEY ("pvid") REFERENCES "provariants" ("pvid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uaid_ua_pr" FOREIGN KEY ("uaid") REFERENCES "useraddress" ("uaid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uoid_uo_pr" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "protags" (
  "ptagsid" BIGSERIAL  ,
  "proid" bigint DEFAULT NULL,
  "ptagname" varchar(250) DEFAULT NULL,
  "protagscol" varchar(45) DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp DEFAULT NULL,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("ptagsid"),
  CONSTRAINT "createdby_u_pt" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_pt" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_pt" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "proid_p_pt" FOREIGN KEY ("proid") REFERENCES "product" ("proid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "provariantlocations" (
  "pvlid" BIGSERIAL  ,
  "pvid" bigint DEFAULT NULL,
  "proid" bigint DEFAULT NULL,
  "uoid" bigint DEFAULT NULL,
  "warhouseid" bigint DEFAULT NULL,
  "autorenew" bit(1) DEFAULT NULL,
  "safetylevel" decimal(18,4) NOT NULL DEFAULT '0.0000',
  "reorderlevel" decimal(18,4) DEFAULT NULL,
  "availabledate" timestamp DEFAULT NULL,
  "enddate" timestamp DEFAULT NULL,
  "openingstock" decimal(18,4) DEFAULT NULL,
  "openingstockvalue" decimal(18,4) DEFAULT NULL,
  "openingstockdate" timestamp DEFAULT NULL,
  "closingstock" decimal(18,4) DEFAULT NULL,
  "closingstockvalue" decimal(18,4) DEFAULT NULL,
  "closingstockdate" timestamp DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "isapproved" bit(1) DEFAULT NULL,
  "approvedby" bigint DEFAULT NULL,
  "approveddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("pvlid"),
  CONSTRAINT "ab_u_pvl" FOREIGN KEY ("approvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "cb_u_pvl" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "db_u_pvl" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "mb_u_pvl" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "proid_p_pvl" FOREIGN KEY ("proid") REFERENCES "product" ("proid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "pvid_pv_pvl" FOREIGN KEY ("pvid") REFERENCES "provariants" ("pvid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uoid_uo_pvl" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "warhouseid_ua_pvl" FOREIGN KEY ("warhouseid") REFERENCES "useraddress" ("uaid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "provariants" (
  "pvid" BIGSERIAL  ,
  "proid" bigint DEFAULT NULL,
  "pvname" varchar(250) DEFAULT NULL,
  "pvdesc" text,
  "shortdesc" text,
  "pvbarcode" varchar(50) DEFAULT NULL,
  "pvsku" varchar(50) DEFAULT NULL,
  "pvdefaultimgid" bigint DEFAULT NULL,
  "pvstatus" bigint DEFAULT NULL,
  "pvcurrencyid" bigint DEFAULT NULL,
  "pvsalesprice" decimal(19,4) DEFAULT NULL,
  "pvpurchaseprice" decimal(19,4) DEFAULT NULL,
  "pvoldprice" decimal(19,4) DEFAULT NULL,
  "pvspecialprice" decimal(19,4) DEFAULT NULL,
  "pvspstartdate" timestamp DEFAULT NULL,
  "pvspenddate" timestamp DEFAULT NULL,
  "moq" decimal(19,4) DEFAULT NULL,
  "isinclusive" bit(1) DEFAULT b'0',
  "uoid" bigint DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "MarkAsNew" bit(1) DEFAULT NULL,
  "MarkAsNewStartDateTimeUtc" timestamp DEFAULT NULL,
  "MarkAsNewEndDateTimeUtc" timestamp DEFAULT NULL,
  "ispublished" bit(1) DEFAULT NULL,
  "displayOnHomePage" bit(1) DEFAULT NULL,
  "RequiredProductIds" timestamp DEFAULT NULL,
  "admincomment" text,
  "availabledate" timestamp DEFAULT NULL,
  "enddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("pvid"),
  CONSTRAINT "createdby_u_pv" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "currencyid_cu_pv" FOREIGN KEY ("pvcurrencyid") REFERENCES "currencies" ("currid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_pv" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_pv" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "prodefimg_ui_pv" FOREIGN KEY ("pvdefaultimgid") REFERENCES "userimages" ("umid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "proid_p_pv" FOREIGN KEY ("proid") REFERENCES "product" ("proid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "pv_org_uoid" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "provarianttax" (
  "protaxid" BIGSERIAL  ,
  "proid" bigint DEFAULT NULL,
  "pvid" bigint DEFAULT NULL,
  "isexempt" bit(1) NOT NULL DEFAULT b'0',
  "effectivedate" timestamp DEFAULT NULL,
  "taxrate" decimal(4,2) DEFAULT NULL,
  "hsncode" integer DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "isapproved" bit(1) DEFAULT NULL,
  "approvedby" bigint DEFAULT NULL,
  "approveddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("protaxid"),
  CONSTRAINT "ab_u_pvt" FOREIGN KEY ("approvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "cb_u_pvt" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "db_u_pvt" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "mb_u_pvt" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "proid_p_pvt" FOREIGN KEY ("proid") REFERENCES "product" ("proid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "pvid_pv_pvt" FOREIGN KEY ("pvid") REFERENCES "provariants" ("pvid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "prowastage" (
  "wastageid" BIGSERIAL  ,
  "wastageno" integer DEFAULT NULL,
  "seriesid" bigint DEFAULT NULL,
  "proid" bigint DEFAULT NULL,
  "pvid" bigint DEFAULT NULL,
  "wastageqty" decimal(18,4) DEFAULT NULL,
  "wastagevalue" decimal(18,4) DEFAULT NULL,
  "wastagedate" timestamp DEFAULT NULL,
  "dom" timestamp DEFAULT NULL,
  "doe" timestamp DEFAULT NULL,
  "bcode" varchar(50) DEFAULT NULL,
  "fcode" varchar(50) DEFAULT NULL,
  "remarks" text,
  "uomid" bigint DEFAULT NULL,
  "uoid" bigint DEFAULT NULL,
  "uaid" bigint DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "isapproved" bit(1) DEFAULT b'0',
  "approvedby" bigint DEFAULT NULL,
  "wastagetype" bigint DEFAULT NULL,
  PRIMARY KEY ("wastageid"),
  CONSTRAINT "approvedby_u_pw" FOREIGN KEY ("approvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "createdby_u_pw" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_pw" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_pw" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "orgid_uo_pw" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "proid_p_pw" FOREIGN KEY ("proid") REFERENCES "product" ("proid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "pvid_pv_pw" FOREIGN KEY ("pvid") REFERENCES "provariants" ("pvid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "sid_s_prw" FOREIGN KEY ("seriesid") REFERENCES "series" ("sid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uaid_ua_pw" FOREIGN KEY ("uaid") REFERENCES "useraddress" ("uaid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uomid_uom_pw" FOREIGN KEY ("uomid") REFERENCES "unitofmeasure" ("uomid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "wastagetype_mv_pw" FOREIGN KEY ("wastagetype") REFERENCES "mastervalues" ("mvid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "prowastageattachment" (
  "pwaid" BIGSERIAL  ,
  "wastageid" bigint DEFAULT NULL,
  "umid" bigint DEFAULT NULL,
  PRIMARY KEY ("pwaid"),
  CONSTRAINT "umid_um_pwa" FOREIGN KEY ("umid") REFERENCES "userimages" ("umid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "wastageid_pw_pwa" FOREIGN KEY ("wastageid") REFERENCES "prowastage" ("wastageid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "psverification" (
  "psvid" BIGSERIAL  ,
  "psvno" integer DEFAULT NULL,
  "seriesid" bigint DEFAULT NULL,
  "proid" bigint DEFAULT NULL,
  "pvid" bigint DEFAULT NULL,
  "curqty" decimal(18,4) DEFAULT NULL,
  "actualqty" decimal(18,4) DEFAULT NULL,
  "curvalue" decimal(18,4) DEFAULT NULL,
  "actualvalue" decimal(18,4) DEFAULT NULL,
  "diffqty" decimal(18,4) DEFAULT NULL,
  "difvalue" decimal(18,4) DEFAULT NULL,
  "psvdate" timestamp DEFAULT NULL,
  "verificationtype" bigint DEFAULT NULL,
  "uomid" bigint DEFAULT NULL,
  "uoid" bigint DEFAULT NULL,
  "uaid" bigint DEFAULT NULL,
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "isapproved" bit(1) DEFAULT b'0',
  "approvedby" bigint DEFAULT NULL,
  "dom" timestamp DEFAULT NULL,
  "doe" timestamp DEFAULT NULL,
  "bcode" varchar(50) DEFAULT NULL,
  "fcode" varchar(50) DEFAULT NULL,
  PRIMARY KEY ("psvid"),
  CONSTRAINT "approvedby_u_psv" FOREIGN KEY ("approvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "createdby_u_psv" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_psv" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_psv" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "orgid_uo_psv" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "proid_p_psv" FOREIGN KEY ("proid") REFERENCES "product" ("proid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "pvid_pv_psv" FOREIGN KEY ("pvid") REFERENCES "provariants" ("pvid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "sid_s_psv" FOREIGN KEY ("seriesid") REFERENCES "series" ("sid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uaid_ua_psv" FOREIGN KEY ("uaid") REFERENCES "useraddress" ("uaid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uomid_uom_psv" FOREIGN KEY ("uomid") REFERENCES "unitofmeasure" ("uomid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "vftype_mv_psv" FOREIGN KEY ("verificationtype") REFERENCES "mastervalues" ("mvid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "psverificationattachment" (
  "psvaid" BIGSERIAL  ,
  "psvid" bigint DEFAULT NULL,
  "umid" bigint DEFAULT NULL,
  PRIMARY KEY ("psvaid"),
  CONSTRAINT "psvid_psv_psva" FOREIGN KEY ("psvid") REFERENCES "psverification" ("psvid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "umid_um_psva" FOREIGN KEY ("umid") REFERENCES "userimages" ("umid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "pvamapping" (
  "pvamid" BIGSERIAL  ,
  "proid" bigint DEFAULT NULL,
  "pvid" bigint DEFAULT NULL,
  "attributeid" bigint DEFAULT NULL,
  "attrtextprompt" varchar(150) DEFAULT NULL,
  "isrequired" bit(1) NOT NULL DEFAULT b'0',
  "controltype" smallint DEFAULT NULL,
  "displayorder" integer DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT NULL,
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("pvamid"),
  CONSTRAINT "attrid_a_pvm" FOREIGN KEY ("attributeid") REFERENCES "attributes" ("attributeid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "createdby_u_pvm" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_pvm" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_pvm" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "proid_p_pvm" FOREIGN KEY ("proid") REFERENCES "product" ("proid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "pv_pv_pvm" FOREIGN KEY ("pvid") REFERENCES "provariants" ("pvid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "pvamvalues" (
  "pvamvid" BIGSERIAL  ,
  "pvamid" bigint DEFAULT NULL,
  "avid" bigint DEFAULT NULL,
  "pvamvcolor" varchar(50) DEFAULT NULL,
  "umid" bigint DEFAULT NULL,
  "displayorder" integer DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT NULL,
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("pvamvid"),
  CONSTRAINT "avid_av_pv" FOREIGN KEY ("avid") REFERENCES "attributevalues" ("avid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "createdby_u_pvam" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_pvam" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_pvam" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "pvamid_pvm_pv" FOREIGN KEY ("pvamid") REFERENCES "pvamapping" ("pvamid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "umid_um_pv" FOREIGN KEY ("umid") REFERENCES "userimages" ("umid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "pvorgmap" (
  "pvomid" BIGSERIAL  ,
  "pvid" bigint DEFAULT NULL,
  "uoid" bigint DEFAULT NULL,
  "Isdeleted" bit(1) DEFAULT NULL,
  "Createdby" bigint DEFAULT NULL,
  PRIMARY KEY ("pvomid"),
  CONSTRAINT "pv_o_map" FOREIGN KEY ("pvid") REFERENCES "provariants" ("pvid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "pv_org_map" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "pvummapping" (
  "pvumid" BIGSERIAL  ,
  "proid" bigint DEFAULT NULL,
  "pvid" bigint DEFAULT NULL,
  "productimgid" bigint DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT NULL,
  "createdby" bigint DEFAULT NULL,
  PRIMARY KEY ("pvumid"),
  CONSTRAINT "proid_p_pvam" FOREIGN KEY ("proid") REFERENCES "product" ("proid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "proimgid" FOREIGN KEY ("productimgid") REFERENCES "userimages" ("umid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "pvid" FOREIGN KEY ("pvid") REFERENCES "provariants" ("pvid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "relatedproduct" (
  "ppmid" BIGSERIAL  ,
  "pvid" bigint DEFAULT NULL,
  "relatedproid" bigint DEFAULT NULL,
  "Isdeleted" bit(1) DEFAULT NULL,
  "Createdby" bigint DEFAULT NULL,
  PRIMARY KEY ("ppmid"),
  CONSTRAINT "propromap" FOREIGN KEY ("relatedproid") REFERENCES "product" ("proid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "proprovarmap" FOREIGN KEY ("pvid") REFERENCES "provariants" ("pvid")
);

CREATE TABLE "rights" (
  "rightid" BIGSERIAL  ,
  "isvisible" bit(1) NOT NULL DEFAULT b'0',
  "isdeleted" bit(1) NOT NULL DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("rightid"),
  CONSTRAINT "createdby_u_rights" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_rights" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_rights" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "roles" (
  "roleid" BIGSERIAL  ,
  "type" integer DEFAULT NULL,
  "isdeleted" bit(1) NOT NULL DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "rolename" varchar(200) DEFAULT NULL,
  "roledesc" text,
  "parentrole" bigint DEFAULT NULL,
  PRIMARY KEY ("roleid"),
  CONSTRAINT "createdby_u_roles" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_roles" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_roles" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "rolesrightsmapping" (
  "rrmid" BIGSERIAL  ,
  "roleid" bigint NOT NULL,
  "rightid" bigint NOT NULL,
  "isdeleted" bit(1) NOT NULL DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("rrmid"),
  CONSTRAINT "createdby_u_rrm" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_rrm" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_rrm" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "rrm_r_rightid" FOREIGN KEY ("rightid") REFERENCES "rights" ("rightid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "rrm_r_roleid" FOREIGN KEY ("roleid") REFERENCES "roles" ("roleid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "rolestype" (
  "roletypeid" BIGSERIAL  ,
  "roletypename" varchar(100) DEFAULT NULL,
  "orderno" bigint DEFAULT NULL,
  "roleid" bigint DEFAULT NULL,
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp DEFAULT NULL,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("roletypeid")
);

CREATE TABLE "series" (
  "sid" BIGSERIAL  ,
  "sprefix" varchar(100) DEFAULT NULL,
  "ssuffix" varchar(100) DEFAULT NULL,
  "seriesdate" timestamp DEFAULT NULL,
  "nostartingfrom" bigint DEFAULT NULL,
  "prefillwithzero" bigint DEFAULT NULL,
  "uoid" bigint DEFAULT NULL,
  "startdate" timestamp DEFAULT NULL,
  "enddate" timestamp DEFAULT NULL,
  "vouchertype" integer DEFAULT NULL,
  "renewdays" integer DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("sid"),
  CONSTRAINT "cb_u_series" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "db_u_series" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "mb_u_series" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uoid_uo_series" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "sessions" (
  "sid" BIGSERIAL  ,
  "uid" bigint DEFAULT NULL,
  "ulhid" bigint DEFAULT NULL,
  "username" varchar(45) DEFAULT NULL,
  "uaid" bigint DEFAULT NULL,
  "token" text,
  "roleid" bigint DEFAULT NULL,
  "uoid" bigint DEFAULT NULL,
  "validity" timestamp DEFAULT NULL,
  "roletypeid" bigint DEFAULT NULL,
  PRIMARY KEY ("sid"),
  CONSTRAINT "orgid_uo_s" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "rid_r_s" FOREIGN KEY ("roleid") REFERENCES "roles" ("roleid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "u_roletype" FOREIGN KEY ("roletypeid") REFERENCES "rolestype" ("roletypeid"),
  CONSTRAINT "uaid_ua_s" FOREIGN KEY ("uaid") REFERENCES "useraddress" ("uaid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uid_u_s" FOREIGN KEY ("uid") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "ulhid_ulh_u" FOREIGN KEY ("ulhid") REFERENCES "userloginhistory" ("ulhid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "st_history" (
  "sth_id" SERIAL  ,
  "sth_colname" varchar(150) DEFAULT NULL,
  "sth_oldval" varchar(150) DEFAULT NULL,
  "sth_newval" varchar(150) DEFAULT NULL,
  "sth_revno" integer DEFAULT NULL,
  "sth_stid" bigint DEFAULT NULL,
  PRIMARY KEY ("sth_id")
);

CREATE TABLE "states" (
  "stateid" BIGSERIAL  ,
  "country_id" bigint NOT NULL,
  "latitude" decimal(10,8) DEFAULT NULL,
  "longitude" decimal(11,8) DEFAULT NULL,
  "created_at" timestamp NULL DEFAULT NULL,
  "updated_at" timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  "flag" smallint NOT NULL DEFAULT '1',
  PRIMARY KEY ("stateid"),
  CONSTRAINT "country_region_final" FOREIGN KEY ("country_id") REFERENCES "countries" ("countryid")
);

CREATE TABLE "stockconversion" (
  "scid" BIGSERIAL  ,
  "scno" integer DEFAULT NULL,
  "sctype" bigint DEFAULT NULL,
  "seriesid" bigint DEFAULT NULL,
  "scdate" timestamp DEFAULT NULL,
  "remarks" text,
  "uoid" bigint DEFAULT NULL,
  "uaid" bigint DEFAULT NULL,
  "bomid" bigint DEFAULT NULL,
  "startdate" timestamp DEFAULT NULL,
  "enddate" timestamp DEFAULT NULL,
  "actualtime" time DEFAULT NULL,
  "isdeleted" bit(1) NOT NULL DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "isapproved" bit(1) DEFAULT b'0',
  "approvedby" bigint DEFAULT NULL,
  "addr1" text,
  "addr2" text,
  "addr3" text,
  "addr4" text,
  "addr5" text,
  PRIMARY KEY ("scid"),
  CONSTRAINT "approvedby_u_sc" FOREIGN KEY ("approvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "bomid_bom_sc" FOREIGN KEY ("bomid") REFERENCES "bom" ("bomid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "createdby_u_sc" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_sc" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_sc" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "orgid_uo_sc" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "sctype_mv_sc" FOREIGN KEY ("sctype") REFERENCES "mastervalues" ("mvid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "sid_s_sc" FOREIGN KEY ("seriesid") REFERENCES "series" ("sid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uaid_ua_sc" FOREIGN KEY ("uaid") REFERENCES "useraddress" ("uaid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "stockconversionattachment" (
  "scaid" BIGSERIAL  ,
  "scid" bigint DEFAULT NULL,
  "umid" bigint DEFAULT NULL,
  PRIMARY KEY ("scaid"),
  CONSTRAINT "scid_sc_sca" FOREIGN KEY ("scid") REFERENCES "stockconversion" ("scid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "umid_um_sca" FOREIGN KEY ("umid") REFERENCES "userimages" ("umid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "stockconversiondetails" (
  "scdid" BIGSERIAL  ,
  "scid" bigint DEFAULT NULL,
  "proid" bigint DEFAULT NULL,
  "pvid" bigint DEFAULT NULL,
  "stockqty" decimal(18,4) DEFAULT NULL,
  "uomid" bigint DEFAULT NULL,
  "stockvalue" decimal(18,4) DEFAULT NULL,
  "scdtype" bit(1) NOT NULL DEFAULT b'0',
  "notes" text,
  "bomdid" bigint DEFAULT NULL,
  "bomdqty" decimal(10,0) DEFAULT NULL,
  "scddate" timestamp DEFAULT NULL,
  "dom" timestamp DEFAULT NULL,
  "doe" timestamp DEFAULT NULL,
  "bcode" varchar(50) DEFAULT NULL,
  "fcode" varchar(50) DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "isapproved" bit(1) DEFAULT b'0',
  "approvedby" bigint DEFAULT NULL,
  PRIMARY KEY ("scdid"),
  CONSTRAINT "approvedby_u_scd" FOREIGN KEY ("approvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "bomdid_bd_scd" FOREIGN KEY ("bomdid") REFERENCES "bomdetails" ("bomdid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "createdby_u_scd" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_scd" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_scd" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "proid_p_scd" FOREIGN KEY ("proid") REFERENCES "product" ("proid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "pvid_pv_scd" FOREIGN KEY ("pvid") REFERENCES "provariants" ("pvid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "scid_sc_scd" FOREIGN KEY ("scid") REFERENCES "stockconversion" ("scid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uomid_uom_scd" FOREIGN KEY ("uomid") REFERENCES "unitofmeasure" ("uomid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "stocktransactions" (
  "stid" BIGSERIAL  ,
  "proid" bigint DEFAULT NULL,
  "pvid" bigint DEFAULT NULL,
  "uaid" bigint DEFAULT NULL,
  "uoid" bigint DEFAULT NULL,
  "dom" timestamp DEFAULT NULL,
  "doe" timestamp DEFAULT NULL,
  "bcode" varchar(50) DEFAULT NULL,
  "fcode" varchar(50) DEFAULT NULL,
  "refid" bigint DEFAULT NULL,
  "reftable" integer DEFAULT NULL,
  "pqty" decimal(19,4) DEFAULT NULL,
  "pvalue" decimal(19,4) DEFAULT NULL,
  "sqty" decimal(19,4) DEFAULT NULL,
  "bqty" decimal(19,4) GENERATED ALWAYS AS ((coalesce("pqty",0) - coalesce("sqty",0))) STORED,
  "status" integer DEFAULT NULL,
  "isnull" bit(1) NOT NULL DEFAULT b'0',
  "transactiondate" timestamp DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT NULL,
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "isapproved" bit(1) DEFAULT NULL,
  "approvedby" bigint DEFAULT NULL,
  "approveddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("stid"),
  CONSTRAINT "ab_u_stc" FOREIGN KEY ("approvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "cb_u_stc" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "db_u_stc" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "mb_u_stc" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "proid_pro_stc" FOREIGN KEY ("proid") REFERENCES "product" ("proid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "pvid_pv_stc" FOREIGN KEY ("pvid") REFERENCES "provariants" ("pvid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uaid_ua_stc" FOREIGN KEY ("uaid") REFERENCES "useraddress" ("uaid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uoid_uo_stc" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "stocktransfer" (
  "sktid" BIGSERIAL  ,
  "transferno" integer DEFAULT NULL,
  "seriesid" bigint DEFAULT NULL,
  "proid" bigint DEFAULT NULL,
  "pvid" bigint DEFAULT NULL,
  "uaidfrom" bigint DEFAULT NULL,
  "usidto" bigint DEFAULT NULL,
  "orderedqty" decimal(19,4) DEFAULT NULL,
  "transferdate" timestamp DEFAULT NULL,
  "transferedqty" decimal(19,4) DEFAULT NULL,
  "transfervalue" decimal(19,4) DEFAULT NULL,
  "transferuomid" bigint DEFAULT NULL,
  "receivedqty" decimal(19,4) DEFAULT NULL,
  "varianceqty" decimal(19,4) GENERATED ALWAYS AS ((coalesce("transferedqty",0) - coalesce("receivedqty",0))) STORED,
  "uoidfrom" bigint NOT NULL,
  "uoidto" bigint NOT NULL,
  "dom" timestamp DEFAULT NULL,
  "doe" timestamp DEFAULT NULL,
  "bcode" varchar(50) DEFAULT NULL,
  "fcode" varchar(50) DEFAULT NULL,
  "remarks" text,
  "ststatus" bigint DEFAULT NULL,
  "isapproved" bit(1) NOT NULL,
  "approvedby" bigint DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("sktid"),
  CONSTRAINT "approvedby_u_st" FOREIGN KEY ("approvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "createdby_u_st" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deleteby_u_st" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifiedby_u_st" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "proid_p_st" FOREIGN KEY ("proid") REFERENCES "product" ("proid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "pvid_pv_st" FOREIGN KEY ("pvid") REFERENCES "provariants" ("pvid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "sid_s_st" FOREIGN KEY ("seriesid") REFERENCES "series" ("sid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "ststatus_mv_st" FOREIGN KEY ("ststatus") REFERENCES "mastervalues" ("mvid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uaidfrom_ua_st" FOREIGN KEY ("uaidfrom") REFERENCES "useraddress" ("uaid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uaidto_ua_st" FOREIGN KEY ("usidto") REFERENCES "useraddress" ("uaid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uoid_uo_st" FOREIGN KEY ("uoidfrom") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uoidto_uo_st" FOREIGN KEY ("uoidto") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uomid_uom_st" FOREIGN KEY ("transferuomid") REFERENCES "unitofmeasure" ("uomid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "stocktransferattachment" (
  "staid" BIGSERIAL  ,
  "sktid" bigint DEFAULT NULL,
  "umid" bigint DEFAULT NULL,
  PRIMARY KEY ("staid"),
  CONSTRAINT "sktid_st_sta" FOREIGN KEY ("sktid") REFERENCES "stocktransfer" ("sktid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "umid_um_sta" FOREIGN KEY ("umid") REFERENCES "userimages" ("umid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "stsmapping" (
  "stsmid" BIGSERIAL  ,
  "stid" bigint DEFAULT NULL,
  "vchid" bigint DEFAULT NULL,
  "vchtype" bigint DEFAULT NULL,
  "sqty" decimal(19,4) DEFAULT NULL,
  "transactiondate" timestamp DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT NULL,
  "createddate" timestamp DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY ("stsmid"),
  CONSTRAINT "stid_st_stsm" FOREIGN KEY ("stid") REFERENCES "stocktransactions" ("stid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "triggers" (
  "triggerid" BIGSERIAL  ,
  "triggername" text,
  "triggerplace" text,
  "triggerdescription" text,
  PRIMARY KEY ("triggerid")
);

CREATE TABLE "triggertemplatemapping" (
  "ttmid" BIGSERIAL  ,
  "triggerid" bigint DEFAULT NULL,
  "triggertemplateid" bigint DEFAULT NULL,
  "startdate" timestamp DEFAULT NULL,
  "enddate" timestamp DEFAULT NULL,
  "uoid" bigint DEFAULT NULL,
  "sendto" bigint DEFAULT NULL,
  "shareonwhatsapp" bit(1) DEFAULT b'0',
  "shareonemail" bit(1) DEFAULT b'0',
  "shareonsms" bit(1) DEFAULT b'0',
  "shareonother" bit(1) DEFAULT b'0',
  "shareonsocial" bit(1) DEFAULT b'0',
  "isenabled" bit(1) DEFAULT b'0',
  "applink" text,
  "weblink" text,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "isapproved" bit(1) DEFAULT b'0',
  "approvedby" bigint DEFAULT NULL,
  PRIMARY KEY ("ttmid"),
  CONSTRAINT "ab_u_ttm" FOREIGN KEY ("approvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "cb_u_ttm" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "db_u_ttm" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "mb_u_ttm" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "sendto_r_ttm" FOREIGN KEY ("sendto") REFERENCES "roles" ("roleid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "triggerid_tr_ttm" FOREIGN KEY ("triggerid") REFERENCES "triggers" ("triggerid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "ttid_tt_ttm" FOREIGN KEY ("triggertemplateid") REFERENCES "triggertemplates" ("triggertemplateid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uoid_uo_ttm" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "triggertemplates" (
  "triggertemplateid" BIGSERIAL  ,
  "templatename" text,
  "templatesmscontent" text,
  "templatewhatsappcontent" text,
  "templatesocialcontent" text,
  "templatedefaultImage" text,
  "templateemailcontent" text,
  "templatesharecontent" text,
  "uoid" bigint DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "isapproved" bit(1) DEFAULT b'0',
  "approvedby" bigint DEFAULT NULL,
  PRIMARY KEY ("triggertemplateid"),
  CONSTRAINT "ab_u_tt" FOREIGN KEY ("approvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "cb_u_tt" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "db_u_tt" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "mb_u_tt" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uoid_uo_tt" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "triggertemplatevariables" (
  "ttvid" BIGSERIAL  ,
  "triggertemplateid" bigint DEFAULT NULL,
  "variablename" varchar(100) DEFAULT NULL,
  "variablelink" text,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "isapproved" bit(1) DEFAULT b'0',
  "approvedby" bigint DEFAULT NULL,
  PRIMARY KEY ("ttvid"),
  CONSTRAINT "ab_u_ttv" FOREIGN KEY ("approvedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "cb_u_ttv" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "db_u_ttv" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "mb_u_ttv" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "ttid_tt_ttv" FOREIGN KEY ("triggertemplateid") REFERENCES "triggertemplates" ("triggertemplateid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "uahistory" (
  "uahid" BIGSERIAL  ,
  "uaid" bigint DEFAULT NULL,
  "isallowed" bit(1) DEFAULT NULL,
  "uahdate" timestamp DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp NULL DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("uahid"),
  CONSTRAINT "create_u_uah" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "delete_u_uah" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modified_u_uah" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uaid_ua_uah" FOREIGN KEY ("uaid") REFERENCES "useraddress" ("uaid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "unitofmeasure" (
  "uomid" BIGSERIAL  ,
  "uomname" varchar(250) DEFAULT NULL,
  "uomsymbole" varchar(50) DEFAULT NULL,
  "catid" bigint DEFAULT NULL,
  "uid" bigint DEFAULT NULL,
  "isdeleted" bit(1) NOT NULL DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("uomid"),
  CONSTRAINT "catid_c_uom" FOREIGN KEY ("catid") REFERENCES "categories" ("catid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "createdby_u_uom" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_uom" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_uom" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uid_u_uom" FOREIGN KEY ("uid") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "uomconversions" (
  "uomcid" BIGSERIAL  ,
  "catid" bigint DEFAULT NULL,
  "uomfrom" bigint DEFAULT NULL,
  "uomto" bigint DEFAULT NULL,
  "uomvalue" decimal(19,4) DEFAULT NULL,
  "uid" bigint DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("uomcid"),
  CONSTRAINT "catid_c_uc" FOREIGN KEY ("catid") REFERENCES "categories" ("catid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "createdby_u_uc" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_uc" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_uc" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uid_u_uc" FOREIGN KEY ("uid") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uomfrom_um_uc" FOREIGN KEY ("uomfrom") REFERENCES "unitofmeasure" ("uomid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uomto_um_uc" FOREIGN KEY ("uomto") REFERENCES "unitofmeasure" ("uomid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "useractivityhistory" (
  "uahid" BIGSERIAL  ,
  "subject" text,
  "action" text,
  "uid" bigint NOT NULL,
  "logtimestamp" timestamp NOT NULL,
  "isdeleted" bit(1) NOT NULL DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp DEFAULT NULL,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "iserror" bit(1) DEFAULT NULL,
  PRIMARY KEY ("uahid"),
  CONSTRAINT "createdby_u_uah" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_uah" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_uah" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uah_u_uid" FOREIGN KEY ("uid") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "useradditionalcolumns" (
  "uadcid" BIGSERIAL  ,
  "uadctype" integer DEFAULT NULL,
  "uid" bigint DEFAULT NULL,
  "isdeleted" bit(1) NOT NULL DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("uadcid"),
  CONSTRAINT "createdby_u_uac" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_uac" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_uac" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uac_u_uid" FOREIGN KEY ("uid") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "useraddress" (
  "uaid" BIGSERIAL  ,
  "address1" varchar(500) DEFAULT NULL,
  "address2" varchar(500) DEFAULT NULL,
  "city" varchar(255) DEFAULT NULL,
  "state" bigint DEFAULT NULL,
  "country" bigint DEFAULT NULL,
  "uid" bigint DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "addridentifier" varchar(45) DEFAULT NULL,
  "maplocation" text,
  "latitude" decimal(9,6) DEFAULT NULL,
  "longitude" decimal(9,6) DEFAULT NULL,
  "isallowed" bit(1) DEFAULT b'0',
  "qrcode" text,
  "userfulladdress" varchar(4000) DEFAULT 'concat(coalesce("address1",_utf8mb4''''),_utf8mb4'','',coalesce("address2",_utf8mb4''''),_utf8mb4'','',coalesce("city",_utf8mb4''''),_utf8mb4'','',convert(coalesce("pincode",_utf8mb3'''') using utf8mb4))',
  PRIMARY KEY ("uaid"),
  CONSTRAINT "createdby_u_ua" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_ua" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_ua" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "ua_c_countryid" FOREIGN KEY ("country") REFERENCES "countries" ("countryid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "ua_s_stateid" FOREIGN KEY ("state") REFERENCES "states" ("stateid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "ua_u_uid" FOREIGN KEY ("uid") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "userattrmapping" (
  "uamid" BIGSERIAL  ,
  "uid" bigint DEFAULT NULL,
  "attributeid" bigint DEFAULT NULL,
  "avid" bigint DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("uamid"),
  CONSTRAINT "attributeid_attri_userattr" FOREIGN KEY ("attributeid") REFERENCES "attributes" ("attributeid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "avid_attrivalue_userattr" FOREIGN KEY ("avid") REFERENCES "attributevalues" ("avid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "createdby_u_userattr" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_useratte" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifiedby_u_userattr" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uid_u_userattr" FOREIGN KEY ("uid") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "usercommisionmapping" (
  "ucmid" BIGSERIAL  ,
  "uid" bigint DEFAULT NULL,
  "uoid" bigint DEFAULT NULL,
  "percentage" decimal(4,4) DEFAULT NULL,
  "value" decimal(19,4) DEFAULT NULL,
  PRIMARY KEY ("ucmid"),
  CONSTRAINT "uid_u_ucm" FOREIGN KEY ("uid") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uoid_uo_ucm" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "userimages" (
  "umid" BIGSERIAL  ,
  "umname" varchar(255) DEFAULT NULL,
  "umalttext" text,
  "umtype" smallint DEFAULT NULL,
  "umiswatermark" bit(1) DEFAULT NULL,
  "uid" bigint DEFAULT NULL,
  "umurl" text,
  "umsizes" varchar(250) DEFAULT NULL,
  "umbytes" integer DEFAULT NULL,
  "umextenstion" varchar(10) DEFAULT NULL,
  "isdeleted" bit(1) NOT NULL DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("umid"),
  CONSTRAINT "createdby_u_ui" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_ui" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_ui" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uid_u_ui" FOREIGN KEY ("uid") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "userkycdetails" (
  "ukid" BIGSERIAL  ,
  "uid" bigint NOT NULL,
  "idtype" bigint NOT NULL,
  "idupload" text,
  "idverifiedby" bigint DEFAULT NULL,
  "idverificationdate" timestamp DEFAULT NULL,
  "idvalidtill" timestamp DEFAULT NULL,
  "idissuedon" timestamp DEFAULT NULL,
  "isdeleted" bit(1) NOT NULL DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("ukid"),
  CONSTRAINT "createdby_u_ukd" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_ukd" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "idtype" FOREIGN KEY ("idtype") REFERENCES "identityproof" ("uipid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_ukd" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uid_u_ukd" FOREIGN KEY ("uid") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "userloginhistory" (
  "ulhid" BIGSERIAL  ,
  "loggingdate" date DEFAULT NULL,
  "loggingtime" time DEFAULT NULL,
  "uid" bigint DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  PRIMARY KEY ("ulhid"),
  CONSTRAINT "ulh_u_uid" FOREIGN KEY ("uid") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "usernotifications" (
  "notificationid" bigint NOT NULL,
  "notificationcontent" text,
  "notificationsent" timestamp DEFAULT NULL,
  "notificationuserid" bigint DEFAULT NULL,
  "uoid" bigint DEFAULT NULL,
  "ttmid" bigint DEFAULT NULL,
  "isread" bit(1) DEFAULT b'0',
  "mobilelink" text,
  "weblink" text,
  "isdeleted" bit(1) DEFAULT NULL,
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("notificationid"),
  CONSTRAINT "cb_u_un" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "db_u_un" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "mb_u_un" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "nuid_u_un" FOREIGN KEY ("notificationuserid") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "ttmid_ttm_un" FOREIGN KEY ("ttmid") REFERENCES "triggertemplatemapping" ("ttmid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uoid_uo_un" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "userorgaddressmapping" (
  "uoamid" BIGSERIAL  ,
  "uaid" bigint DEFAULT NULL,
  "uoid" bigint DEFAULT NULL,
  "uid" bigint DEFAULT NULL,
  "isdefault" bit(1) NOT NULL DEFAULT b'0',
  "uaomname" varchar(50) DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "addrtype" integer DEFAULT NULL,
  PRIMARY KEY ("uoamid"),
  CONSTRAINT "createdby_u_uoam" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_uoam" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_uoam" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uoam_u_uid" FOREIGN KEY ("uid") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uoam_ua_uaid" FOREIGN KEY ("uaid") REFERENCES "useraddress" ("uaid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uoam_uo_uoid" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "userorganization" (
  "uoid" BIGSERIAL  ,
  "orgemail" varchar(100) DEFAULT NULL,
  "orgmobile" varchar(50) DEFAULT NULL,
  "uid" bigint DEFAULT NULL,
  "iscomposite" bit(1) DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "orgindustry" integer DEFAULT NULL,
  "orgincstatus" integer DEFAULT NULL,
  "orgfystartdate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "parentorgid" bigint DEFAULT NULL,
  PRIMARY KEY ("uoid"),
  CONSTRAINT "createdby_u_uo" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_uo" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_uo" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "uo_u_uid" FOREIGN KEY ("uid") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "userrightpricing" (
  "id" BIGSERIAL  ,
  "price" decimal(19,4) DEFAULT NULL,
  PRIMARY KEY ("id")
);

CREATE TABLE "userrightsmapping" (
  "id" BIGSERIAL  ,
  "userid" bigint DEFAULT NULL,
  "rightid" bigint DEFAULT NULL,
  "Modifiedby" bigint DEFAULT NULL,
  "Modifieddate" timestamp DEFAULT NULL,
  "Isdeleted" bit(1) DEFAULT NULL,
  "Createdby" bigint DEFAULT NULL,
  PRIMARY KEY ("id")
);

CREATE TABLE "userrolemapping" (
  "urmid" BIGSERIAL  ,
  "uid" bigint DEFAULT NULL,
  "uoid" bigint DEFAULT NULL,
  "roleid" bigint DEFAULT NULL,
  "roletypeid" bigint DEFAULT NULL,
  "employeeid" varchar(45) DEFAULT NULL,
  "self" integer DEFAULT NULL,
  "isdeleted" bit(1) DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  PRIMARY KEY ("urmid"),
  CONSTRAINT "createdby_u_urm" FOREIGN KEY ("createdby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "deletedby_u_urm" FOREIGN KEY ("deletedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "modifyby_u_urm" FOREIGN KEY ("modifiedby") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "urm_role_roleid" FOREIGN KEY ("roleid") REFERENCES "roles" ("roleid"),
  CONSTRAINT "urm_roletype_roletypeid" FOREIGN KEY ("roletypeid") REFERENCES "rolestype" ("roletypeid"),
  CONSTRAINT "urm_u_uid" FOREIGN KEY ("uid") REFERENCES "users" ("uid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "urm_uo_uoid" FOREIGN KEY ("uoid") REFERENCES "userorganization" ("uoid") ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE "users" (
  "uid" BIGSERIAL  ,
  "canlogin" bit(1) DEFAULT NULL,
  "image" text,
  "isdeleted" bit(1) NOT NULL DEFAULT b'0',
  "createdby" bigint DEFAULT NULL,
  "createddate" timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  "modifiedby" bigint DEFAULT NULL,
  "modifieddate" timestamp DEFAULT NULL,
  "deletedby" bigint DEFAULT NULL,
  "deleteddate" timestamp DEFAULT NULL,
  "profilestatus" bigint DEFAULT NULL,
  "accountstatus" bigint DEFAULT NULL,
  "isapproved" bit(1) DEFAULT NULL,
  "approvedby" bigint DEFAULT NULL,
  "approveddate" timestamp DEFAULT NULL,
  "marketsegement" bigint DEFAULT NULL,
  "languageid" bigint DEFAULT NULL,
  "currencyid" bigint DEFAULT NULL,
  "isadmin" bit(1) DEFAULT NULL,
  "firstname" varchar(45) DEFAULT NULL,
  "lastname" varchar(45) DEFAULT NULL,
  PRIMARY KEY ("uid"),
  CONSTRAINT "acst_mv_u" FOREIGN KEY ("accountstatus") REFERENCES "mastervalues" ("mvid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "currid_curr_u" FOREIGN KEY ("currencyid") REFERENCES "currencies" ("currid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "ms_mv_u" FOREIGN KEY ("marketsegement") REFERENCES "mastervalues" ("mvid") ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT "prst_mv_u" FOREIGN KEY ("profilestatus") REFERENCES "mastervalues" ("mvid") ON DELETE CASCADE ON UPDATE CASCADE
);
